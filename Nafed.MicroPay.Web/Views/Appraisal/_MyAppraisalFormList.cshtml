
@using Nafed.MicroPay.Model;
@model MicroPay.Web.Models.EmployeeAppraisalViewModel


<table id="tblGrid" class="table table-centered table-striped dt-responsive w-100">
    <thead>
        <tr>
            <th>
                #
            </th>

            <th>
                Reporting Yr
            </th>

            <th>
                Form Name
            </th>

            <th>
                Department
            </th>
            <th>
                Designation
            </th>
            <th>
                Status
            </th>
            <th class="text-center" style="width:60px">
                View/Edit
            </th>
        </tr>
    </thead>
    <tbody>
        @{
            if (Model.formList != null && Model.formList.Count() > 0)
            {
                var sno = 1;

                foreach (var item in Model.formList)
                {
                    <tr>
                        <td>@sno</td>
                        <td>@item.ReportingYr</td>
                        <td>@item.FormName</td>
                        <td> @item.DepartmentName</td>
                        <td> @item.DesignationName</td>
                        <td class="text-center">
                            @if (item.StatusID == (int)AppraisalFormState.SavedByEmployee)
                            {
                                <h5>
                                    <span class="badge badge-pill badge-light col-md-12">
                                        Save
                                    </span>
                                </h5>
                            }
                            else if (item.StatusID == (int)AppraisalFormState.SubmitedByEmployee)
                            {
                                <h5>
                                    <span class="badge badge-pill badge-dark col-md-12">
                                        Submitted
                                    </span>
                                </h5>
                            }
                            else if (item.StatusID == (int)AppraisalFormState.SavedByReporting)
                            {
                                <h5>
                                    <span class="badge badge-pill badge-dark col-md-12">
                                        Saved by Reporting Officer
                                    </span>
                                </h5>
                            }
                            else if (item.StatusID == (int)AppraisalFormState.SubmitedByReporting)
                            {
                                <h5>
                                    <span class="badge badge-pill bg-teal col-md-12">
                                        Reviewed by Reporting Officer
                                    </span>
                                    @*<span class="badge badge-pill badge-success col-md-12 toggle-tooltip" title="Employee Remark: @item.Reason <br/> Reporting Remark: @item.ReporotingToRemark <br/> Reviwer Remark: @item.ReviewerToRemark">Approved</span>*@
                                </h5>
                            }
                            else if (item.StatusID == (int)AppraisalFormState.SavedByReviewer)
                            {
                                <h5>
                                    <span class="badge badge-pill badge-dark col-md-12">
                                        Saved by Reviewer Officer
                                    </span>
                                </h5>
                            }
                            else if (item.StatusID == (int)AppraisalFormState.SubmitedByReviewer)
                            {
                                <h5>
                                    <span class="badge badge-pill badge-info col-md-12">
                                        Reviewed by Reviewer Officer
                                    </span>
                                </h5>
                            }
                            else if (item.StatusID == (int)AppraisalFormState.SubmitedByAcceptanceAuth)
                            {
                                <h5>
                                    <span class="badge badge-pill badge-success col-md-12">
                                        Accepted by Accepting Authority
                                    </span>
                                </h5>
                            }
                        </td>

                        @*@if (Model.userRights.Edit)
                            {*@
                        <td class="text-center">
                            @*<a href="@Url.Action("Edit", "Appraisal", new { appraisalFormID = item.FormID, reportingTo = item.EmpProceeApproval.ReportingTo, reviewingTo = item.EmpProceeApproval.ReviewingTo, acceptanceAuthority = item.EmpProceeApproval.AcceptanceAuthority, empID = item.EmployeeID, reportingYr = item.ReportingYr })" title="Click here, to view or edit this record" data-toggle="tooltip">
                                <i class="far fa-eye text-info" aria-hidden="true"></i>
                            </a>*@
                            @Html.EncodedImageActionLink("", "Edit", "Appraisal", new { appraisalFormID = item.FormID, reportingTo = item.EmpProceeApproval.ReportingTo, reviewingTo = item.EmpProceeApproval.ReviewingTo, acceptanceAuthority = item.EmpProceeApproval.AcceptanceAuthority, empID = item.EmployeeID, reportingYr = item.ReportingYr }, new { @class = "toggle-tooltip", title = "Click here, to edit this record" }, "~/Images/edit.png")
                        </td>
                        @*}*@

                    </tr>
                    sno++;
                }
            }          

        }

    </tbody>
</table>

