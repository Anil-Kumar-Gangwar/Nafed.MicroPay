@using Nafed.MicroPay.Model;

@model List<ConveyanceBillHistoryModel>

<table id="tblGrid-Conveyance1" class="table table-centered table-striped dt-responsive w-100 mt-2">
    <thead>
        <tr>
            <th>
                #
            </th>
            <th>
                Reporting Yr
            </th>
            <th>
                Form Name
            </th>
            <th>
                Name
            </th>
            <th>
                Department
            </th>
            <th>
                Designation
            </th>
            <th>
                Conveyance Status
            </th>
            <th class="text-center" style="width:60px">
                Report
            </th>
        </tr>
    </thead>

    <tbody>
        @{
            int sno = 1;
            foreach (var item in Model)
            {
                <tr>
                    <td>@sno</td>
                    <td>@item.ReportingYr</td>
                    <td>@item.FormName</td>
                    <td>@item.EmployeeCode - @item.Name</td>
                    <td> @item.DepartmentName</td>
                    <td> @item.DesignationName</td>
                    <td class="text-center">
                        @if (item.ConveyanceStatus == (int)ConveyanceFormState.SavedByEmployee)
                        {
                            <h5>
                                <span class="badge badge-pill badge-light col-md-12">
                                    Save
                                </span>
                            </h5>
                        }
                        else if (item.ConveyanceStatus == (int)ConveyanceFormState.SubmitedByEmployee)
                        {
                            <h5>
                                <span class="badge badge-pill badge-dark col-md-12">
                                    Submitted
                                </span>
                            </h5>
                        }
                        else if (item.ConveyanceStatus == (int)ConveyanceFormState.SavedByReporting)
                        {
                            <h5>
                                <span class="badge badge-pill badge-dark col-md-12">
                                    Saved by Reporting Officer
                                </span>
                            </h5>
                        }
                        else if (item.ConveyanceStatus == (int)ConveyanceFormState.SubmitedByReporting)
                        {
                            <h5>
                                <span class="badge badge-pill bg-teal col-md-12">
                                    Reported by Sectional Head
                                </span>
                            </h5>
                        }
                        else if (item.ConveyanceStatus == (int)ConveyanceFormState.SavedByReviewer)
                        {
                            <h5>
                                <span class="badge badge-pill badge-dark col-md-12">
                                    Saved by Reviewer Officer
                                </span>
                            </h5>
                        }
                        else if (item.ConveyanceStatus == (int)ConveyanceFormState.SubmitedByReviewer)
                        {
                            <h5>
                                <span class="badge badge-pill badge-info col-md-12">
                                    Approved by Divisional Head
                                </span>
                            </h5>
                        }
                    </td>

                    <td class="text-center">
                        @*<a href="@Url.Action("ViewConveyance", "ConveyanceBill", new {empID=item.EmployeeId,conveyanceDetailID=item.ConveyanceBillDetailID, reportingTo=item.ReportingTo,reviewingTo=item.ReviewingTo,acceptanceAuthority=item.AcceptanceAuthority})" title="Click here, to view this record" data-toggle="tooltip">
                            <i class="far fa-eye text-info" aria-hidden="true"></i>
                        </a>*@
                        @Html.EncodedImageActionLink("", "ViewConveyance", "ConveyanceBill", new { empID = item.EmployeeId, conveyanceDetailID = item.ConveyanceBillDetailID, reportingTo = item.ReportingTo, reviewingTo = item.ReviewingTo, acceptanceAuthority = item.AcceptanceAuthority }, new { @class = "toggle-tooltip", title = "Click here, to view this record" }, "~/Images/view.png")
                    </td>
                </tr>
                sno++;
            }
        }
        <script type="text/javascript">

            var table = $('#tblGrid-Conveyance1').DataTable({
            });
            $('#tblGrid-Conveyance1').find('select').addClass('custom-select');
        </script>
        @*}*@

    </tbody>

</table>

